<div class="asset-viewer" [class.fullscreen]="isFullscreen" (contextmenu)="disableContextMenu($event)">
  <div class="more-results overlay-wrap--center" id="loader-wrapper" *ngIf="state == 0"><i class="icon-asterisk icon-spin icon-large"></i></div>
  <!-- IIIF Image Viewer-->
  <div [class.hidden]="state != 1" class="abc">
    <div class="item osd-wrap" [attr.id]="osdViewerId" [attr.zoomValue]="lastZoomValue"></div>
  </div>
  <!-- Video Player-->
  <div class="video-player" [class.hidden]="state != 2">
    <iframe id="{{ 'kalturaIframe-' + index }}" frameborder="0"></iframe>
  </div>
  <!-- Audio Player-->
  <!--<div *ngIf="state == 5">
    <audio class="item video-player" id="audio-{{ osdViewerId }}" controls>
      <source [attr.src]="asset.downloadLink" type="audio/MPEG">{{ 'audio_error' }}
    </audio>
  </div>-->
  <!--panorama Krpano viewer-->
  <div class="krpano-viewer osd-wrap" [class.hidden]="state != 3">
    <div class="pano" id="pano-{{ index }}"></div>
  </div>
  <!-- Large thumbnail fallback-->
  <div id="fallbackViewer" *ngIf="state == 4"><img class="item item--thumbnail" alt="{{ asset.title }}" [attr.src]="asset.thumbnail_url" (error)="asset.fallbackThumbnailUrl()"></div>
  <!--Viewer Buttons-->
  <div class="button-group asset-viewer__buttons" id="imageButtons-{{ osdViewerId }}">
    <button class="btn btn--icon" [class.hidden]="state != 1" id="zoomIn-{{ osdViewerId}}" title="Zoom In"><i class="icon icon-zoom-in"></i></button><button class="btn btn--icon" [class.hidden]="state != 1" id="zoomOut-{{ osdViewerId }}" title="Zoom Out"><i class="icon icon-zoom-out"></i></button><button class="btn btn--icon" [class.hidden]="state != 1" id="zoomFit-{{ osdViewerId }}" title="Zoom Fit"><i class="icon icon-fit"></i></button><button class="btn btn--icon" *ngIf="!isFullscreen" id="fullScreen-{{ osdViewerId }}" (click)="togglePresentationMode()" title="Full Screen"><i class="icon icon-fullscreen"></i></button><button class="btn btn--icon" *ngIf="isFullscreen && assetCompareCount > 1" (click)="removeAsset.emit(asset)" title="Remove from Comparison"><i class="icon icon-close"></i></button>
  </div>
  <div class="fullscreen-metadata row" *ngIf="isFullscreen">
    <div class="col-md-3">
      <div class="centered-buttons">
        <div class="caption-btn-cntnr" [ngClass]="[ showCaption ? 'active' : '' ]"  (click)="showCaption = !showCaption" title="{{ showCaption ? 'Hide Asset Meta Information' : 'Show Asset Meta Information' }}">
          <span class="btn-dot"></span>
          {{ showCaption ? 'HIDE CAPTION' : 'SHOW CAPTION' }}
        </div>
      </div>
    </div>
    <div class="p-2 col-md-6">
      <i class="icon icon-direction icon-left" *ngIf="assetCompareCount == 1 && (showCaption || quizMode)" [class.disabled]="assetNumber <= 1" title="Previous in results" (click)="prevPage.emit()"></i>
      <div class="title" [innerHtml]="asset.title" *ngIf="showCaption"></div>
      <i class="icon icon-direction icon-right" *ngIf="assetCompareCount == 1 && (showCaption || quizMode)" [class.disabled]="assetNumber >= assetGroupCount" title="Next in results" (click)="nextPage.emit()"></i>
      <div class="meta-block small" *ngIf="showCaption">
        <div class="creator" [innerHtml]="asset.creator"></div>
        <div class="date" [innerHtml]="asset.date"></div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="centered-buttons">
        <div *ngIf="!quizMode" [ngClass]="[ quizShuffle ? 'active' : '' ]" (click)="toggleQuizShuffle()" title="Toggle Asset Suffle">
          <span class="btn-dot"></span>
          SHUFFLE {{ quizShuffle ? 'ON' : 'OFF' }}
        </div>
        <div class="quiz-cntnr" [ngClass]="[ quizMode ? 'active' : '' ]" (click)="toggleQuizMode()" title="{{ quizMode ? 'Deactivate Quiz Mode' : 'Activate Quiz Mode' }}">
          <span class="btn-dot"></span>
          QUIZ MODE {{ quizMode ? 'ON' : 'OFF' }}
        </div>
      </div>
    </div>
  </div>
</div>